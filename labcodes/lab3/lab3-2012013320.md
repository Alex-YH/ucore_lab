# Lab3 实验报告
# 杨皓 2012013320

## 练习1

1. 页目录项与页表项的组成部分对于ucore替换算法的作用。  
	在页目录以及页表项的标志位中，PTE_A、PTE_D用于记录当前页是否被访问过、改写过，通过这些信息可以提供给置换算法

2. ucore的缺页服务例程在执行过程中，出现来页访问异常，请问硬件要做什么？  
	硬件会保存产生异常时的状态信息，并设置error code。之后会跳转至异常处理程序的入口，执行异常服务例程。在执行完之后，又会将之前所保存的各寄存器的状态还原，继续执行之后的指令。	

3. 设计过程及参考答案的不同点  
	设计过程：判断物理地址是否为0，则为其分配一个页面，同时将其映射到一个虚拟地址.之后通过swap_init、page_insert、swap_map_swappable函数将页面从外存调换至内存中。  
	与参考答案不同点：参考答案对于分配内存失败的情况有考虑，但我没有。

## 练习2

1. 需要被换出的页的特征是什么？  
	修改位以及引用位为0时，该页将会被换出。

2. ucore中如何判断具有这样特征的页？  
	ucore中也可以根据修改位以及引用位的值判断是否需要换出。

3. 何时进行换入与换出？  
	换入：产生了缺页异常时将进行换入操作。
	换出：产生了缺页异常时可以进行换出操作，又或者系统将进行定期扫描，当扫描时，若修改位以及引用位均为0时，该页将换出。

4. 设计过程及参考答案的不同点  
	设计过程：将新加入的页面放于列表尾部。置换时，将排在第一位的页面置换出去。  
	与参考答案的不同点：我采取的是将列表头放于head的next项中，而参考答案是放在prev位置上。

## 知识点
本次实验完整的实现了一个置换算法，使得我对置换算法的具体细节有了非常清晰的认识。  
同时，在本次实验中，对于全局替换算法并没有涉及，希望在之后的学习中能有机会去学习。
